import React, { useState } from "react";
import { useColor } from "../../context/colorContext";
import '../../App.css'
export default function DemonMaskSvg() {
    const [fillsById, setFillsById] = useState<Record<string, string>>({});
    const [strokesById, setStrokesById] = useState<Record<string, string>>({});
    const {activeColor}=useColor()
    const fillOf = (id: string, fallback: string) => fillsById[id] ?? fallback;
const strokeOf = (id: string, fallback: string) => strokesById[id] ?? fallback;
const handleClick = (e: React.MouseEvent<SVGSVGElement>) => {
    const el = e.target as SVGElement | null;
    if (!el) return;

    const id = el.id;
    if (!id) return;

    setFillsById((prev) => ({
      ...prev,
      [id]: activeColor,
    }));
  };
  return (
    <div className="mask3d-wrap">
<svg
        className="mask3d-back"
        viewBox="0 0 241 310"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden
      >        
        <path
          d="M119.225 22.0641L66.7246 50.5641L47.7246 30.5641L27.7246 4.06409L27.2246 18.5641C27.6156 26.3987 28.2801 30.5641 30.7246 42.5641C33.1691 54.5641 33.846 57.0916 34.7246 60.0641L41.7246 74.5641L27.2246 97.0641L27.7246 106.564L1.22461 92.0641C-0.0375588 117.481 -0.950425 131.847 10.2246 141.064C10.9393 154.147 10.7288 158.029 14.7246 162.064C8.20735 180.612 12.315 186.035 37.7246 194.064C38.1262 195.39 27.0842 195.753 12.2246 196.564C24.3208 205.184 31.516 208.27 45.2246 210.064C44.7765 218.964 48.1457 224.001 60.2246 233.064V251.064C72.5797 263.049 79.8804 268.17 92.7246 278.064C93.2246 286.564 93.2246 284.564 93.2246 286.564C103.434 296.598 109.547 300.952 120.725 309.064C120.725 309.064 148.225 286.564 147.725 286.064C147.225 285.564 147.799 278.928 148.225 277.564C167.606 262.675 179.002 254.013 180.725 249.564V233.064C192.507 223.776 196.026 218.723 195.225 210.064C210.864 207.646 217.478 204.549 226.225 196.564L202.725 194.064C214.324 190.783 219.374 187.866 226.225 181.064C230.291 178.151 227.557 170.961 226.225 162.064C226.225 162.064 228.225 159.064 229.725 156.064C231.225 153.064 231.225 139.064 231.225 139.064L234.225 137.064L239.725 129.064C239.849 122.944 239.725 111.564 239.725 110.064C239.725 108.564 239.847 98.7716 239.725 92.0641L213.225 105.064V97.0641L198.725 74.5641L205.725 62.5641L211.225 42.5641L213.225 22.0641V1.56409L189.725 34.5641L171.725 50.5641L119.225 22.0641Z"
          fill="#1a0a22"
        />
      </svg>
    <svg
      className="mask3d-front"
      viewBox="0 0 241 310"
      xmlns="http://www.w3.org/2000/svg"
      preserveAspectRatio="xMidYMid meet"
      width="100%"
      height="100%"
      onClick={handleClick}
    >
     <defs>
  <linearGradient id="metalPurple" x1="0%" y1="0%" x2="100%" y2="0%"
  gradientUnits="objectBoundingBox"
  gradientTransform="rotate(8 0.5 0.5)"
  >
    <stop offset="0%" stopColor="#2a063b" />
    <stop offset="18%" stopColor="#4b0f72" />
    <stop offset="45%" stopColor="#b58cff" />
    <stop offset="50%" stopColor="#f2e9ff" />
    <stop offset="55%" stopColor="#b58cff" />
    <stop offset="82%" stopColor="#4b0f72" />
    <stop offset="100%" stopColor="#2a063b" />
  </linearGradient>

  <linearGradient id="metalPurpleSheen" x1="0%" y1="0%" x2="100%" y2="0%"
  gradientUnits="objectBoundingBox"
  gradientTransform="rotate(8 0.5 0.5)"
  >
    <stop offset="0%" stopColor="rgba(255,255,255,0)" />
    <stop offset="42%" stopColor="rgba(255,255,255,0)" />
    <stop offset="50%" stopColor="rgba(255,255,255,0.55)" />
    <stop offset="58%" stopColor="rgba(255,255,255,0)" />
    <stop offset="100%" stopColor="rgba(255,255,255,0)" />
  </linearGradient>
</defs> 
   <path
  id="maskBase"
  d="M119.225 22.0641L66.7246 50.5641L47.7246 30.5641L27.7246 4.06409L27.2246 18.5641C27.6156 26.3987 28.2801 30.5641 30.7246 42.5641C33.1691 54.5641 33.846 57.0916 34.7246 60.0641L41.7246 74.5641L27.2246 97.0641L27.7246 106.564L1.22461 92.0641C-0.0375588 117.481 -0.950425 131.847 10.2246 141.064C10.9393 154.147 10.7288 158.029 14.7246 162.064C8.20735 180.612 12.315 186.035 37.7246 194.064C38.1262 195.39 27.0842 195.753 12.2246 196.564C24.3208 205.184 31.516 208.27 45.2246 210.064C44.7765 218.964 48.1457 224.001 60.2246 233.064V251.064C72.5797 263.049 79.8804 268.17 92.7246 278.064C93.2246 286.564 93.2246 284.564 93.2246 286.564C103.434 296.598 109.547 300.952 120.725 309.064C120.725 309.064 148.225 286.564 147.725 286.064C147.225 285.564 147.799 278.928 148.225 277.564C167.606 262.675 179.002 254.013 180.725 249.564V233.064C192.507 223.776 196.026 218.723 195.225 210.064C210.864 207.646 217.478 204.549 226.225 196.564L202.725 194.064C214.324 190.783 219.374 187.866 226.225 181.064C230.291 178.151 227.557 170.961 226.225 162.064C226.225 162.064 228.225 159.064 229.725 156.064C231.225 153.064 231.225 139.064 231.225 139.064L234.225 137.064L239.725 129.064C239.849 122.944 239.725 111.564 239.725 110.064C239.725 108.564 239.847 98.7716 239.725 92.0641L213.225 105.064V97.0641L198.725 74.5641L205.725 62.5641L211.225 42.5641L213.225 22.0641V1.56409L189.725 34.5641L171.725 50.5641L119.225 22.0641Z"
  fill="url(#metalPurple)"
  
  vectorEffect="non-scaling-stroke"
/>
<path
  d="M119.225 22.0641L66.7246 50.5641L47.7246 30.5641L27.7246 4.06409L27.2246 18.5641C27.6156 26.3987 28.2801 30.5641 30.7246 42.5641C33.1691 54.5641 33.846 57.0916 34.7246 60.0641L41.7246 74.5641L27.2246 97.0641L27.7246 106.564L1.22461 92.0641C-0.0375588 117.481 -0.950425 131.847 10.2246 141.064C10.9393 154.147 10.7288 158.029 14.7246 162.064C8.20735 180.612 12.315 186.035 37.7246 194.064C38.1262 195.39 27.0842 195.753 12.2246 196.564C24.3208 205.184 31.516 208.27 45.2246 210.064C44.7765 218.964 48.1457 224.001 60.2246 233.064V251.064C72.5797 263.049 79.8804 268.17 92.7246 278.064C93.2246 286.564 93.2246 284.564 93.2246 286.564C103.434 296.598 109.547 300.952 120.725 309.064C120.725 309.064 148.225 286.564 147.725 286.064C147.225 285.564 147.799 278.928 148.225 277.564C167.606 262.675 179.002 254.013 180.725 249.564V233.064C192.507 223.776 196.026 218.723 195.225 210.064C210.864 207.646 217.478 204.549 226.225 196.564L202.725 194.064C214.324 190.783 219.374 187.866 226.225 181.064C230.291 178.151 227.557 170.961 226.225 162.064C226.225 162.064 228.225 159.064 229.725 156.064C231.225 153.064 231.225 139.064 231.225 139.064L234.225 137.064L239.725 129.064C239.849 122.944 239.725 111.564 239.725 110.064C239.725 108.564 239.847 98.7716 239.725 92.0641L213.225 105.064V97.0641L198.725 74.5641L205.725 62.5641L211.225 42.5641L213.225 22.0641V1.56409L189.725 34.5641L171.725 50.5641L119.225 22.0641Z"
  fill="url(#metalPurpleSheen)"
  stroke="none"
  style={{ mixBlendMode: "screen", opacity: 0.65 }}
/>                      
      <g
  id="details"
  stroke="black"
  strokeWidth={0.5}
  vectorEffect="non-scaling-stroke"
  strokeLinejoin="round"
  strokeLinecap="round"
>  
<path
        id="rightHorn"
        d="M169.225 88.0641C190.961 70.2186 198.42 54.9274 206.725 22.0641C188.687 45.4219 177.859 56.0635 157.225 70.5641C159.857 82.0022 162.767 85.2002 169.225 88.0641Z"
        fill={fillOf("rightHorn", "transparent")}
    stroke={strokeOf("rightHorn", "black")}
      />
 <path
        id="leftHorn"
        d="M82.7246 71.0641C62.7527 55.6862 52.1722 44.8177 34.2246 22.0641C37.8168 51.6992 48.2726 65.3127 71.2246 88.0641C79.4574 83.2978 81.5736 79.3745 82.7246 71.0641Z"
        fill={fillOf("leftHorn", "transparent")}
    stroke={strokeOf("leftHorn", "black")}
      />
  <path
    id="eyeBrow"
    d="M157.225 48.5641C158.105 48.8599 158.489 49.0614 158.725 49.5641C144.136 64.103 135.917 72.1403 120.225 83.5641C104.755 71.6426 96.1938 64.3257 81.2246 49.5641C81.6594 49.1762 81.9825 48.9583 83.7246 48.5641C99.2774 58.325 107.478 63.6423 120.225 72.5641C134.024 63.1756 142.107 57.9205 157.225 48.5641Z"
    fill={fillOf("eyeBrow", "transparent")}
    stroke={strokeOf("eyeBrow", "black")}
  />

  <path
    id="leftFirstTop"
    d="M118.225 63.5641V29.5641L114.725 31.5641L114.225 62.0641L118.225 63.5641Z"
    fill={fillOf("leftFirstTop", "transparent")}
    stroke={strokeOf("leftFirstTop", "black")}
  />
  <path
    id="rightFirstTop"
    d="M121.719 63.4257V29.4257L125.219 31.4257L125.719 61.9257L121.719 63.4257Z"
    fill={fillOf("rightFirstTop", "transparent")}
    stroke={strokeOf("rightFirstTop", "black")}
  />
  <path
    id="rightSecondTop"
    d="M129.719 57.8052V35.1385L133.219 36.4718L133.719 56.8052L129.719 57.8052Z"
    fill={fillOf("rightSecondTop", "transparent")}
    stroke={strokeOf("rightSecondTop", "black")}
  />
  <path
    id="leftSecondTop"
    d="M110.73 57.8052V35.1385L107.23 36.4718L106.73 56.8052L110.73 57.8052Z"
    fill={fillOf("leftSecondTop", "transparent")}
    stroke={strokeOf("leftSecondTop", "black")}
  />
  <path
    id="leftThirdTop"
    d="M102.73 53.0581V37.947L99.2303 38.8359L98.7303 52.3915L102.73 53.0581Z"
    fill={fillOf("leftThirdTop", "transparent")}
    stroke={strokeOf("leftThirdTop", "black")}
  />
  <path
    id="rightThirdTop"
    d="M137.719 53.0581V37.947L141.219 38.8359L141.719 52.3915L137.719 53.0581Z"
    fill={fillOf("rightThirdTop", "transparent")}
    stroke={strokeOf("rightThirdTop", "black")}
  />

  <path
    id="rightFang"
    d="M206.725 201.564C192.833 199.364 184.423 197.823 170.225 190.064C167.221 192.831 165.709 194.609 163.225 198.064C177.946 206.412 189.742 206.309 206.725 201.564Z"
    fill={fillOf("rightFang", "transparent")}
    stroke={strokeOf("rightFang", "black")}
  />
  <path
    id="leftFang"
    d="M77.2246 198.064C75.5215 195.861 73.9396 194.066 70.2246 190.064C54.8843 197.398 47.0411 199.528 33.7246 201.564C51.377 207.066 60.9798 207.108 77.2246 198.064Z"
    fill={fillOf("leftFang", "transparent")}
    stroke={strokeOf("leftFang", "black")}
  />

  <path
    id="leftEye"
    d="M93.2246 151.564L68.7246 142.064C63.0056 151.238 62.5287 155.977 74.2246 162.564C84.209 163.876 88.6154 162.006 93.2246 151.564Z"
    fill={fillOf("leftEye", "transparent")}
    stroke={strokeOf("leftEye", "black")}
  />
  <path
    id="rightEye"
    d="M171.725 142.064L147.225 151.564C151.875 162.513 156.394 165.069 168.225 162.564C177.029 156.735 177.751 152.234 171.725 142.064Z"
    fill={fillOf("rightEye", "transparent")}
    stroke={strokeOf("rightEye", "black")}
  />

  <path
    id="nose"
    d="M128.725 159.564C121.89 160.405 118.06 160.4 111.225 159.564C113.612 161.503 114.764 162.652 115.725 165.064C111.49 163.829 109.044 163.048 106.225 163.564L114.225 170.564C115.221 174.306 115.266 176.287 114.225 179.564C97.3492 175.03 90.9193 175.285 91.7246 187.064C95.4264 177.054 105.701 182.544 120.725 189.064C134.812 182.843 144.101 176.956 148.725 187.064C149.502 176.541 144.918 174.548 125.725 179.564C124.941 176.172 125.022 174.189 125.725 170.564L134.225 163.564C131.832 163.021 129.266 163.63 124.225 165.064C125.08 162.695 126.246 161.535 128.725 159.564Z"
    fill={fillOf("nose", "transparent")}
    stroke={strokeOf("nose", "black")}
  />

  <path
    id="topMouth"
    d="M79.2246 205.064C79.8674 203.405 80.6615 202.649 82.7246 201.564C111.797 217.668 128.306 218.508 158.225 201.564C160.468 203.172 161.148 203.915 161.725 205.064C155.525 212.955 151.883 217.737 148.725 219.064C148.399 218.758 147.834 217.93 145.725 214.564L138.725 217.564H102.225L94.2246 214.564C92.1301 218.061 91.5911 218.824 91.2246 219.064C86.928 216.196 84.2101 212.527 79.2246 205.064Z"
    fill={fillOf("topMouth", "transparent")}
    stroke={strokeOf("topMouth", "black")}
  />

  <path
    id="bottomMouth"
    d="M93.2246 228.064C85.0275 225.889 81.6137 219.956 74.7246 212.564C79.8416 227.126 83.3858 233.378 93.2246 234.564C114.02 225.025 126.393 225.04 149.725 234.564C161.637 228.357 163.544 222.936 165.225 212.564C158.364 220.123 154.326 225.052 148.725 228.064C145.01 228.476 142.758 226.953 138.725 224.064H101.225C97.4054 227.097 95.4555 228.393 93.2246 228.064Z"
    fill={fillOf("bottomMouth", "transparent")}
    stroke={strokeOf("bottomMouth", "black")}
  />
</g>

    </svg>
    </div>
  );
}
